<?xml version="1.0" encoding="utf-8"?>
<manpage>
  <utility>dvda2track</utility>
  <author>Brian Langenberger</author>
  <section>1</section>
  <name>extract audio files</name>
  <title>DVD-Audio Extractor</title>
  <synopsis>[OPTIONS] [track 1] [track 2] ...</synopsis>
  <description>
    dvda2track extracts audio files from a DVD-Audio disc and
    encodes them to tracks.
    If track numbers are given, extracts only those tracks.
    Otherwise, extracts the entire disc.
  </description>
  <options>
    <option short="h" long="help">show a list of options and exit</option>
    <option short="V" long="verbose" arg="verbosity">
      The level of output to display.
      Choose between 'normal', 'quiet' and 'debug.
    </option>
    <option short="c" long="cdrom" arg="cdrom">
      the DVD-ROM device to extract audio from
    </option>
    <option short="A" long="audio_ts" arg="directory">
      the DVD-Audio's AUDIO_TS directory
    </option>
    <option long="title" arg="number">
      the title number to retrieve tracks from, starting from 1;
      the number of titles can be determined from the dvdainfo(1) utility
    </option>
  </options>
  <options category="extraction">
    <option short="t" long="type" arg="type">
      The audio format of the extracted audio tracks.
      For a list of available audio formats, try: -t help.
    </option>
    <option short="q" long="quality" arg="quality">
      The desired quality of the extracted tracks.
      For a list of available quality modes for a given format, try: -q help
    </option>
    <option short="d" long="dir" arg="directory">
      The target directory for the extracted tracks.
      If none is given, the current working directory is used.
      If the target directory does not exist,
      it will be created automatically.
    </option>
    <option long="format" arg="string">
      The format string to use for new filenames.
      Template fields are replaced with metadata values when
      new tracks are created.  All other text is left as-is.
      If this option is omitted, a default format string is used.
    </option>
  </options>
  <options category="metadata">
    <option short="x" long="xmcd" arg="filename">
      A MusicBrainz XML file or FreeDB XMCD file to use for metadata for
      the extracted tracks.
      XML and XMCD files can be obtained from the
      track2xmcd(1), cd2xmcd(1), dvda2xmcd(1), and editxmcd(1) programs.
    </option>
    <option long="track-start" arg="number">
      the starting track number of the title being extracted
    </option>
    <option long="track-total" arg="number">
      the total number of tracks, if the extracted title
      is only a subset of the actual number of tracks
    </option>
    <option long="album-number" arg="number">
      the album number of this disc, if it is one in a series of albums
    </option>
    <option long="album-total" arg="number">
      the total number of albums in this disc's set,
      if it is one in a series of albums
    </option>
    <option long="replay-gain">
      add ReplayGain metadata to newly created tracks
    </option>
    <option long="no-replay-gain">
      do not add ReplayGain metadata to newly created tracks
    </option>
  </options>
  <element name="about DVD access">
    <p>
      Some systems will spin-down a DVD if it has not been accessed
      for awhile, but will fail to bring it back up again if reads
      are requested.
      For example, one might use dvda2xmcd(1) to get a disc's
      metadata, then edit it with editxmcd(1).
      But while editing, the system spins down the DVD drive
      and subsequent calls to dvda2track(1) fail.
    </p>
    <p>
      In this instance, one might have to reinsert the disc
      for it to be read properly.
    </p>
  </element>
  <examples>
    <example>
      <description>
        Extract all the tracks in title 1 from /dev/cdrom
        which is mounted at /media/cdrom/AUDIO_TS as FLAC files
        using metadata from album.xmcd
      </description>
      <command>
        dvda2track -t flac -x album.xmcd -c /dev/cdrom -A /media/cdrom/AUDIO_TS
      </command>
    </example>
    <example>
      <description>
        Sometimes a particularly long disc will split what should be
        a contiguous collection of tracks across more than one DVD-Audio title.
        For example, we may have a disc whose label indicates 30 tracks,
        but has placed 20 tracks in title 1 and 10 tracks in title 2
        (according to dvdainfo(1)).
        In this instance, we can use the --title and --track-start
        options to extract them into a single collection.
      </description>
      <command note="Extract the first 20 tracks">
        dvda2track -c /dev/cdrom -A /media/cdrom/AUDIO_TS --title=1 --track-total=30
      </command>
      <command note="Extract the final 10 tracks">
        dvda2track -c /dev/cdrom -A /media/cdrom/AUDIO_TS --title=2 --track-start=21 --track-total=30
      </command>
    </example>
  </examples>
</manpage>
